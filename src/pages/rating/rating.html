<!--
  Generated template for the RatingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>RATING SCORE</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <form (ngSubmit)="doRating()" [formGroup]="frmRate">
    <ion-grid formArrayName="ratings">
      <h5>ORDER NO #{{ head.code }}</h5>
      <hr/>
      <ion-row [formGroupName]="i"   *ngFor="let fd of details; let i = index;" class="tb-detail">
          <ion-col col-12>
              <p><strong>{{ fd.food_name }}</strong></p>
              <p><ion-icon name="bookmark"></ion-icon> {{ fd.restourant }}</p>
              <p *ngIf="fd.remark!=''"> <ion-icon name="chatbubbles"></ion-icon> *{{ fd.remark }}</p>
              <rating formControlName="score"
                      readOnly="false"
                      max="5" 
                      emptyStarIconName="star-outline" 
                      halfStarIconName="star-half" 
                      starIconName="star" 
                      nullable="false"
                      >
              </rating>
              <ion-textarea formControlName="comment" placeholder="Comment" rows="3" type="text"></ion-textarea>
              <ion-input type="hidden" formControlName="price_id" value="{{ fd.price_id }}"></ion-input>
              <ion-input type="hidden" formControlName="detail_id" value="{{ fd.id }}"></ion-input>
          </ion-col>
      </ion-row>

      <ion-row>
            <ion-col col-6>
              <button ion-button color="dark" full type="submit">ADD SCORE</button>
            </ion-col>
            <ion-col col-6>
              <button ion-button color="dark" full type="button" (click)="doClose()">CLOSE</button>
            </ion-col>
      </ion-row>
  </ion-grid>
    </form>
</ion-content>